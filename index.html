<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>WalletHealth</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#0b0f19;
  color:#fff;
}
.container{
  max-width:420px;
  margin:auto;
  padding:24px 16px;
}
.title{text-align:center;font-size:26px;font-weight:bold;}
.subtitle{text-align:center;font-size:13px;color:#9ca3af;margin-bottom:20px;}
.card{
  background:#121826;
  border-radius:18px;
  padding:20px;
  box-shadow:0 0 40px rgba(0,0,0,.5);
}
input{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:none;
  background:#0b1220;
  color:white;
  margin-bottom:12px;
}
button{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:none;
  background:linear-gradient(135deg,#00ffd5,#00b3ff);
  font-weight:bold;
}
.note{text-align:center;font-size:12px;color:#9ca3af;margin-top:10px;}
.result{display:none;margin-top:22px;}
.block{
  background:#0f172a;
  border-radius:14px;
  padding:14px;
  margin-bottom:14px;
  font-size:14px;
}
.block h4{margin:0 0 8px 0;font-size:13px;color:#9ca3af;}
.score-box{
  width:180px;height:180px;border-radius:50%;
  margin:16px auto;
  background:conic-gradient(#ef4444 0deg,#facc15 120deg,#22c55e 240deg,#22c55e 360deg);
  display:flex;align-items:center;justify-content:center;
}
.score-inner{
  width:130px;height:130px;background:#0b0f19;border-radius:50%;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
}
.score{font-size:36px;font-weight:bold;}
.status{text-align:center;font-size:16px;font-weight:bold;margin-bottom:6px;}
.summary{text-align:center;font-size:13px;color:#cbd5f5;margin-bottom:14px;}
.footer{text-align:center;font-size:11px;color:#6b7280;margin-top:30px;}
</style>
</head>

<body>
<div class="container">
  <div class="title">WalletHealth</div>
  <div class="subtitle">Crypto Wallet Risk Dashboard</div>

  <div class="card">
    <input id="walletInput" placeholder="Paste wallet address (0x...)" />
    <button onclick="checkHealth()">Check Wallet Health</button>
    <div class="note">üîí Read-only ‚Ä¢ No wallet connect ‚Ä¢ No private keys</div>

    <div id="result" class="result">
      <div class="score-box">
        <div class="score-inner">
          <div id="score" class="score">--</div>
          <div style="font-size:12px;color:#9ca3af;">Health Index</div>
        </div>
      </div>

      <div id="status" class="status"></div>
      <div id="summary" class="summary"></div>

      <div class="block">
        <h4>Wallet overview (real)</h4>
        üåê Network: <span id="network"></span><br>
        üí∞ Balance: <span id="balance"></span>
      </div>

      <div class="block">
        <h4>Score logic</h4>
        Score is calculated using real wallet balance and basic activity signals.
      </div>
    </div>
  </div>

  <div class="footer">¬© 2025 WalletHealth ‚Ä¢ Not financial advice</div>
</div>

<script>
async function fetchBalance(rpc, address){
  const res = await fetch(rpc,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({
      jsonrpc:"2.0",
      method:"eth_getBalance",
      params:[address,"latest"],
      id:1
    })
  });
  const data = await res.json();
  return parseInt(data.result,16)/1e18;
}

async function checkHealth(){
  const address=document.getElementById("walletInput").value.trim();
  if(!address.startsWith("0x") || address.length!==42){
    alert("Only EVM wallets supported for now");
    return;
  }

  document.getElementById("result").style.display="block";
  document.getElementById("network").innerText="Detecting...";
  document.getElementById("balance").innerText="Loading...";

  let rpc="https://cloudflare-eth.com";
  let network="Ethereum";

  try{
    const bal = await fetchBalance(rpc,address);
    document.getElementById("network").innerText=network;
    document.getElementById("balance").innerText=bal.toFixed(4)+" ETH";

    let score=bal>0 ? 70 : 40;
    document.getElementById("score").innerText=score;

    document.getElementById("status").innerText=
      score>=70?"üü¢ Healthy Wallet":"üü° Low Activity Wallet";

    document.getElementById("summary").innerText=
      bal>0?
      "This wallet holds funds and appears active.":
      "This wallet has no balance, which may indicate low activity.";

  }catch(e){
    alert("Unable to fetch balance");
  }
}
</script>
</body>
</html>
